<div class="dropdown">

  <table>
    <thead>
    <tr>
      <th>Icon</th>
      <th>Name</th>
      <th>Amount</th>
      <th>Owner</th>
      <th colspan="3"></th>
    </tr>
    </thead>



    <tbody>
    <% @transactions.each do |transaction| %>
      <% if transaction_exists?(transaction) %>
        <tr>
          <td><%= image_tag(current_user.groups.find(transaction.group_id).icon) if transaction.group_id %></td>
          <td><%= transaction.name %></td>
          <td><%= transaction.amount %></td>
          <td><%= current_user.name %></td>
          <td><%= link_to 'Show', transaction %></td>
          <td><%= link_to 'Edit', edit_transaction_path(transaction) %></td>
          <td><%= button_to 'Destroy', transaction, method: :delete, data: { confirm: 'Are you sure?' } %></td>
        </tr>
      <% end %>
    <% end %>
    </tbody>
  </table>

  <button
    class="btn btn-secondary dropdown-toggle"
    type="button"
    id="transactions"
    data-mdb-toggle="dropdown"
    aria-expanded="false"
  >
    Add Transaction
  </button>
    <ul class="dropdown-menu" aria-labelledby="transactions">
      <% @transactions.each do |t| %>
        <% if transaction_exists?(t) %>
          <li><div class="dropdown-item"><%= t.name %><%= button_to 'Remove', transaction_exists?(t), method: :delete %></div></li>
        <% else %>
          <li><div class="dropdown-item"><%= t.name %><%= button_to 'Add', transaction_groups_path( group_id: @group.id, transaction_id: t.id ), method: :post %></div></li>
        <% end %>
      <% end %>
    </ul>
</div>